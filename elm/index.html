<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>Elm â€¢ TodoMVC</title>
    <script type="text/javascript" src="elm.js"></script>
    <link rel="stylesheet" href="style.css">
    <!--link rel="stylesheet" href="assets/css/bootstrap.css"-->
</head>

<body>
</body>

<script type="text/javascript">
    var storedState = localStorage.getItem('nus-share-store');
    var startingState = storedState ? JSON.parse(storedState) : null;
    var app = Elm.fullscreen(Elm.Todo, { getStorage: startingState });
    app.ports.focus.subscribe(function (selector) {
        setTimeout(function () {
            var nodes = document.querySelectorAll(selector);
            if (nodes.length === 1 && document.activeElement !== nodes[0]) {
                nodes[0].focus()
            }
        }, 50);
    });
    app.ports.setStorage.subscribe(function (state) {
        localStorage.setItem('nus-share-store', JSON.stringify(state));
    });
</script>

</html>